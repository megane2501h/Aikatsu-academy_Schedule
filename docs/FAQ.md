# よくある問題・トラブルシューティング

## 認証関連

### Q: 認証エラーが出る
**A:** 以下を確認してください：

1. `credentials.json`が正しく配置されているか
2. Google Cloud ConsoleでCalendar APIが有効になっているか
3. OAuth認証情報が正しく作成されているか

### Q: token.jsonを削除してしまった
**A:** 再度`python src/main.py --manual`を実行すれば再認証されて自動生成されます。

## カレンダー関連

### Q: カレンダーに同期されない
**A:** 以下を確認してください：

1. `config.ini`のCALENDAR_IDが正しいか
2. カレンダーの共有設定で書き込み権限があるか
3. カレンダーが削除されていないか

### Q: CALENDAR_IDがわからない
**A:** Google Calendarでカレンダー設定 > 「カレンダーの統合」からコピーできます。

### Q: 既存の予定が消えた
**A:** このツールは指定期間の予定を完全に置き換えます。専用カレンダーの使用を推奨します。

## スケジュール取得関連

### Q: スケジュールが取得できない
**A:** 以下を確認してください：

1. インターネット接続
2. 公式サイト（https://aikatsu-academy.com/schedule/）が正常に動作しているか
3. サイト構造が変更されていないか

### Q: 一部のスケジュールに絵文字がない
**A:** `config.ini`の絵文字設定を追加・調整してください。

## 実行関連

### Q: ModuleNotFoundError が出る
**A:** 依存関係のインストールを確認してください：
```bash
uv sync
```

### Q: 自動実行が動かない
**A:** 手動実行（`--manual`）で正常動作することを先に確認してください。

### Q: GitHub Actionsで失敗する
**A:** リポジトリのSecretsに認証情報が正しく設定されているか確認してください。

## エラーメッセージ別対処法

### `カレンダーが見つかりません (404)`
→ CALENDAR_IDを確認してください

### `認証情報ファイルが見つかりません`
→ credentials.jsonの配置を確認してください

### `スケジュール取得エラー`
→ ネットワーク接続と公式サイトの状態を確認してください

## サポート

解決しない場合は、GitHubのIssuesで報告してください。
その際、エラーメッセージとログを含めてください。 